import type {
  User,
  Guild,
  ApiToken,
  Character,
  PasswordReset,
} from 'flowTypes';

import moment from 'moment';
import { pvpSeason } from './gw2';

export const user = ({
  id = '938C506D-F838-F447-8B43-4EBF34706E0445B2B503',
  email = 'cool@email.com',
  password = 'cool-pass',
  passwordHash = 'realhashseriously',
  alias = 'huedwell',
  token = '12222-2222',
  tokenId = 1,
  guilds,
  accountName,
  privacy = 'yolo|swag',
}: User = {}): User => ({
  id,
  email,
  password,
  passwordHash,
  alias,
  token,
  guilds,
  tokenId,
  accountName,
  privacy,
});

export const passwordReset = ({
  expires = moment().add(1, 'days'),
  used = false,
  UserId = user().id,
}: PasswordReset = {}) => ({
  expires,
  used,
  UserId,
});

export const guild = ({
  id = 'im-guild',
  tag = 'tag',
  name = 'name',
  favor = 123,
  resonance = 333,
  aetherium = 444,
  influence = 555,
  level = 60,
  motd = 'Cool message of the day',
  claimed = false,
  apiTokenId,
  privacy = 'lol|nah',
}: Guild = {}): Guild => ({
  id,
  tag,
  name,
  favor,
  resonance,
  aetherium,
  influence,
  level,
  motd,
  claimed,
  apiTokenId,
  privacy,
});

export const apiToken = ({
  id = 1,
  token = '938C506D-F838-F447-8B43-4EBF34706E0445B2B503-977D-452F-A97B-A65BB32D6F15',
  accountName = 'cool.4321',
  accountId = 'haha_id',
  permissions = 'cool,permissions',
  world = 1234,
  guilds = guild().id,
  User: Usr = user(),
  UserId = user().id,
  access = ['HOT'],
  commander = true,
  fractalLevel = 123,
  dailyAp = 123,
  monthlyAp = 123,
  wvwRank = 123,
  primary = false,
  stub = false,
  valid = true,
}: ApiToken = {}): ApiToken => ({
  id,
  token,
  accountName,
  accountId,
  permissions,
  world,
  guilds,
  User: Usr,
  UserId,
  access,
  commander,
  fractalLevel,
  dailyAp,
  monthlyAp,
  wvwRank,
  primary,
  stub,
  valid,
});

// $FlowFixMe
export const standing = ({
  apiTokenId = apiToken().id,
  seasonId = pvpSeason().season_id,
  totalPointsCurrent = 1,
  divisionCurrent = 2,
  pointsCurrent = 3,
  repeatsCurrent = 4,
  ratingCurrent = 5,
  decayCurrent = 6,
  totalPointsBest = 7,
  divisionBest = 8,
  pointsBest = 9,
  repeatsBest = 10,
  ratingBest = 11,
  decayBest = 12,
  gw2aRank = 1,
  naRank = null,
  euRank = null,
  wins = 123,
  losses = 1,
} = {}) => ({
  apiTokenId,
  seasonId,
  totalPointsCurrent,
  divisionCurrent,
  pointsCurrent,
  repeatsCurrent,
  ratingCurrent,
  decayCurrent,
  totalPointsBest,
  divisionBest,
  pointsBest,
  repeatsBest,
  ratingBest,
  decayBest,
  gw2aRank,
  naRank,
  euRank,
  wins,
  losses,
});

export const character = ({
  name = 'maaodduu',
  race = 'Asura',
  gender = 'Male',
  profession = 'Elementalist',
  level = 20,
  created = '01/02/1990',
  age = 30,
  deaths = 10,
  guild: gld = guild().name,
  apiTokenId = apiToken().id,
  Gw2ApiToken = apiToken(),
  showPublic,
  privacy = 'yes|no',
}: Character = {}): Character => ({
  name,
  race,
  gender,
  profession,
  level,
  created,
  age,
  deaths,
  guild: gld,
  apiTokenId,
  Gw2ApiToken,
  showPublic,
  privacy,
});
